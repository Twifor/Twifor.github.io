<!DOCTYPE html>
<html lang="zh-CN">
<head>
		<script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css">
		<meta charset="UTF-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
		<meta name="theme-color" content="#222">
		<script src="https://www.layuicdn.com/layui-v2.5.6/layui.js"></script>
		<link rel="stylesheet" type="text/css" href="https://www.layuicdn.com/layui-v2.5.6/css/layui.css" />
		<style>
			body {
				background: url(background3.jpeg) no-repeat center center fixed;
                -webkit-background-size: cover;
				-o-background-size: cover;                
				background-size: cover;
			}
			.post-block {
				padding: 20px;
				box-shadow: 0 2px 2px 0 rgba(0,0,0,0.12), 0 3px 1px -2px rgba(0,0,0,0.06), 0 1px 5px 0 rgba(0,0,0,0.12), 0 -1px 0.5px 0 rgba(0,0,0,0.09);
				border-radius: initial;
				width: 50%;
				margin-left: 25%;
				margin-top: 20px;
				margin-bottom: 20px;
				height: 1600px;
				background: #FFF;
			}
			.post-title {
				overflow-wrap: break-word;
				word-wrap: break-word;
				text-align: center;
				font-weight: 400;
				margin: 20px;
				color: #555;
			}
			.post-meta-item-icon {
				opacity: 0.8;
				color: #555;
			}
			.post-meta-item-text {
				opacity: 0.8;
				color: #555;
			}
			a, span.exturl {
				overflow-wrap: break-word;
				word-wrap: break-word;
				background-color: transparent;
				color: #555;
				text-decoration: none;
				outline: none;
				border-bottom: 1px solid #999;
				cursor: pointer;
			}
			.title {
				color: #555;
				margin-left: 15px;
				margin-top: 15px;
				font-weight: bold;
				margin-bottom: 10px;
			
			}
			 .p1{
                /**
                 *     通常若不显示设置字体大小默认是16px
                 */
                font-size: 16px;
              
                /*line-height: 40px;*/
                /*line-height:400% ;*/
				padding-left: 22px;
				padding-right: 22px;
				margin-top: 15px;
                line-height: 2;
				color: #555;
            }
		</style>


</head>
<body class="layui-anim layui-anim-fadein">
	<style type="text/css">
		.snow-container{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:100001;}
	</style>
	<div class="snow-container"></div>
	<div class="post-block" style="opacity: 0.8;display: block;">
	
		<h1 class="post-title" itemprop="name headline">原神伤害收益计算器</h1>
		<center>
			<span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
             </span>
                <span class="post-meta-item-text">发表于</span>
              <time class="post-meta-item-text" title="创建时间：2021-01-16 12:21:59" datetime="2021-01-18T12:21:59+08:00">2021-01-18</time>
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
					<span class="post-meta-item-text">更新于</span>
					<time class="post-meta-item-text" title="修改时间：2021-01-16 15:32:27" itemprop="dateModified" datetime="2021-01-18T15:32:27+08:00">2021-01-18</time>
				</span>
		</center>
		<div style="margin-top: 30px">
		
		<h2 class="title">关于这个工具</h2>
		<div style="margin-top: 10">
		<p class="p1">
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;这个工具大概是临时做出来的，一开始试图做小程序，后来还是改成网页了，嵌在了自己的博客里。然后尽可能与原来博客的风格保持一致。
			<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;如标题所言，这是一个可以不用经过实战，就可以简单地计算出伤害收益的工具，存在一定误差。
			<br/>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;目前只支持少数元素反应的计算，正确性测试至原神1.2版本。
		</p>
		
		<h2 class="title">角色信息</h2>
		<form class="layui-form" action="">
			<div class="layui-form-item">
				<label class="layui-form-label" style="color: #555;">等级</label>
				<div class="layui-input-block">
					<input lay-verify="required|number" id="LV" style="width: 90%" type="text" name="title" required  lay-verify="required" placeholder="输入等级，如70" autocomplete="off" class="layui-input">
				</div>
			</div>
			<div class="layui-form-item">
				<label class="layui-form-label" style="color: #555;">基础攻击力</label>
				<div class="layui-input-block">
					<input lay-verify="required|number"   id="basic_att" style="width: 90%" type="text" name="title" required  lay-verify="required" placeholder="基础攻击力为角色+武器，只计算白字部分，如600" autocomplete="off" class="layui-input">
				</div>
			</div>
			<div class="layui-form-item">
				<label class="layui-form-label" style="color: #555;">暴击率</label>
				<div class="layui-input-block">
					<input lay-verify="required|number" id="bao_v" style="width: 90%" type="text" name="title" required  lay-verify="required" placeholder="输入百分比，如70" autocomplete="off" class="layui-input">
				</div>
			</div>
			<div class="layui-form-item">
				<label class="layui-form-label" style="color: #555;">暴击伤害</label>
				<div class="layui-input-block">
					<input lay-verify="required|number" id="bao_s" style="width: 90%" type="text" name="title" required  lay-verify="required" placeholder="输入加成，如50" autocomplete="off" class="layui-input">
				</div>
			</div>
			<div class="layui-form-item">
				<label class="layui-form-label" style="color: #555;">技能倍率</label>
				<div class="layui-input-block">
					<input lay-verify="required|number" id="beilv" style="width: 90%" type="text" name="title" required  lay-verify="required" placeholder="输入百分比，可以在角色天赋介绍处查看" autocomplete="off" class="layui-input">
				</div>
			</div>

		
		<div style="margin-top: 10">
		<h2 class="title">附加信息</h2>
		<div style="margin-top: 10">
			<div class="layui-form-item">
				<label class="layui-form-label" style="color: #555;">攻击力百分比加成</label>
				<div class="layui-input-block">
					<input lay-verify="required|number" id="att_per" style="width: 90%" type="text" name="title" required  lay-verify="required" placeholder="输入百分比" autocomplete="off" class="layui-input">
				</div>
			</div>
			<div class="layui-form-item">
				<label class="layui-form-label" style="color: #555;">攻击力固定值加成</label>
				<div class="layui-input-block">
					<input lay-verify="required|number" id="att_sta" style="width: 90%" type="text" name="title" required  lay-verify="required" placeholder="输入整数" autocomplete="off" class="layui-input">
				</div>
			</div>
			<div class="layui-form-item">
				<label class="layui-form-label" style="color: #555;">元素/物理伤害加成</label>
				<div class="layui-input-block">
					<input lay-verify="required|number" id="add_dmg" style="width: 90%" type="text" name="title" required  lay-verify="required" placeholder="输入百分比" autocomplete="off" class="layui-input">
				</div>
			</div>
		
		<div style="margin-top: 10">
		<h2  class="title">目标信息</h2>
		<div style="margin-top: 10">
			<div class="layui-form-item">
				<label class="layui-form-label" style="color: #555;">怪物等级</label>
				<div class="layui-input-block">
					<input lay-verify="required|number" id="obj_lv" style="width: 90%" type="text" name="title" required  lay-verify="required" placeholder="输入怪物等级" autocomplete="off" class="layui-input">
				</div>
			</div>
			<div class="layui-form-item">
				<label class="layui-form-label" style="color: #555;">怪物抗性</label>
				<div class="layui-input-block">
					<input lay-verify="required|number" id="kangxing" style="width: 90%" type="text" name="title" required  lay-verify="required" placeholder="输入百分比" autocomplete="off" class="layui-input">
				</div>
			</div>
			<div class="layui-form-item">
				<label class="layui-form-label"  style="color: #555;">元素反应</label>
				<div class="layui-input-block">
					<select id="yuansu" lay-verify="required">
						<option value="0">无元素反应</option>
						<option value="1">水-火蒸发</option>
						<option value="2">火-水蒸发</option>
						<option value="3">火-冰融化</option>
						<option value="4">冰-火融化</option>
					</select>
				</div>
			</div>

		
		<button type="button" class="layui-btn layui-btn-normal" style="margin-left: 80%;margin-top: 5%" onclick="cal();" lay-submit="">伤害计算</button>
	</form>
	<div style="margin-top: 20px;">
	<center>
		<img src="1.jpg" style="width: 80%;"/>
	</center>
	</div>
	<script src="snow.js"></script>
	<script type="text/javascript" src="clicklove.js"></script>
	<script type="text/javascript">
		layui.use('form', function(){
			var form = layui.form;
			form.render();
		});
		function totAtt() {
			var be = Number(document.getElementById('basic_att').value);
			be *= 1.0 + Number(document.getElementById('att_per').value) / 100.0;
			be += Number(document.getElementById('att_sta').value);
			return be;
		}
		function yuansufy() {
			var opt = Number(document.getElementById('yuansu').value);
			if(opt === 0) return 1.0;
			if (opt === 1 || opt === 3) return 2.0;
			return 1.5;
		}
		function dengjicha() {
			var mylv =  Number(document.getElementById('LV').value);
			var objlv = Number(document.getElementById('obj_lv').value);
			return (100 + mylv) / (mylv + objlv + 200);
		}
		function kangxing() {
			var ans = Number(document.getElementById('kangxing').value) / 100.0;
			if(ans < 0) return 1 - ans / 2.0;
			if (ans < 0.75) return 1 - ans;
			return 1.0 / (1 + 4.0 * ans);
		}
		function cal() {
			try {
				var att = 1;
				att *= totAtt();
				att *= Number(document.getElementById('beilv').value) / 100.0;
				att *= (1.0 + Number(document.getElementById('add_dmg').value) / 100.0);
				att *= yuansufy();
				att *= dengjicha();
				att *= kangxing();
				
				baoji = att * (1.0 + Number(document.getElementById('bao_s').value) / 100.0);
				ex = Number(document.getElementById('bao_v').value) / 100.0 * baoji + (1.0 - Number(document.getElementById('bao_v').value) / 100.0) * att;
				
				att = parseInt(att);
				baoji = parseInt(baoji);
				ex = parseInt(ex);
				layer.alert('造成伤害: ' + att + '<br/>暴击伤害：' + baoji + '<br/>期望伤害：' + ex , {
					skin: 'layui-layer-lan'
					,closeBtn: 0,
					title: "伤害计算"
				});
			}catch (err) {
				layui.use('layer', function (){
					var layer = layui.layer;
					layer.msg(err.message);
				})
			}
		}
	</script>
</body>
